<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Christmas Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@700&family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        :root { --gold: #FFD700; --holiday-red: #c41e3a; }
        body { font-family: 'Nunito', sans-serif; overflow-x: hidden; }
        .festive-font { font-family: 'Mountains of Christmas', cursive; }

        /* H√≥es√©s anim√°ci√≥ */
        .snowflake { position: fixed; top: -10px; color: #fff; z-index: -1; animation: fall linear infinite; }
        @keyframes fall { to { top: 100%; } }

        /* Glassmorphism */
        .glass-card { background: rgba(20, 20, 30, 0.75); backdrop-filter: blur(16px); border: 1px solid rgba(255, 255, 255, 0.1); box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5); }

        /* St√°tusz sz√≠nek - UGYANAZOK */
        .status-online { background-color: #3ba55c; box-shadow: 0 0 8px #3ba55c; }
        .status-idle { background-color: #faa61a; box-shadow: 0 0 8px #faa61a; }
        .status-dnd { background-color: #ed4245; box-shadow: 0 0 8px #ed4245; }
        .status-offline { background-color: #747f8d; }

        /* Slider */
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 16px; width: 16px; border-radius: 50%; background: var(--gold); margin-top: -6px; }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; background: rgba(255,255,255,0.3); }
    </style>
</head>
<body class="text-white min-h-screen flex items-center justify-center p-4 relative">

    <!-- UGYANAZ A VIDE√ì H√ÅTT√âR -->
    <div class="fixed top-0 left-0 w-full h-full -z-20">
        <video autoplay muted loop playsinline class="absolute min-w-full min-h-full object-cover filter blur-sm brightness-50 transform scale-105">
            <source src="https://videos.pexels.com/video-files/856957/856957-hd_1920_1080_25fps.mp4" type="video/mp4">
        </video>
    </div>

    <!-- H√≥es√©s Gener√°l√°s -->
    <div id="snow-container"></div>
    <script>
        for(let i=0; i<20; i++) {
            let snow = document.createElement('div');
            snow.className = 'snowflake';
            snow.innerText = Math.random() > 0.5 ? '‚ùÖ' : '‚ùÜ';
            snow.style.left = Math.random() * 100 + '%';
            snow.style.animationDuration = (Math.random() * 5 + 5) + 's';
            snow.style.fontSize = (Math.random() * 10 + 10) + 'px';
            document.getElementById('snow-container').appendChild(snow);
        }
    </script>

    <main class="glass-card w-full max-w-4xl rounded-3xl overflow-hidden relative z-10 animate-fade-in-up">
        <!-- D√≠szek -->
        <div class="absolute top-0 right-0 p-4 text-yellow-400 opacity-80"><i class="fa-solid fa-holly-berry text-4xl transform rotate-12"></i></div>
        
        <div class="grid md:grid-cols-12 gap-0">
            <!-- Profil Inf√≥ -->
            <div class="md:col-span-5 bg-black/20 p-8 text-center flex flex-col items-center justify-center border-r border-white/10">
                <div class="relative group">
                    <div class="w-40 h-40 rounded-full border-4 border-red-600 p-1 shadow-2xl overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=500&q=80" class="w-full h-full object-cover rounded-full">
                    </div>
                    <div class="absolute -top-6 -right-4 text-red-600 text-6xl transform rotate-12"><i class="fa-solid fa-hat-santa"></i></div>
                </div>
                <h1 class="text-4xl mt-6 mb-2 text-yellow-400 festive-font drop-shadow-md">Kov√°cs D√°vid</h1>
                <p class="text-gray-300 italic text-sm mb-6">"Programoz√≥, gamer √©s a t√©li est√©k rajong√≥ja."</p>
                
                <div class="flex gap-4 mt-auto">
                    <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-green-500 hover:text-white transition-all"><i class="fa-brands fa-spotify"></i></a>
                    <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-red-600 hover:text-white transition-all"><i class="fa-brands fa-youtube"></i></a>
                    <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-[#ff0050] hover:text-white transition-all"><i class="fa-brands fa-tiktok"></i></a>
                </div>
            </div>

            <!-- Tartalom -->
            <div class="md:col-span-7 p-8 flex flex-col gap-6">
                
                <!-- DISCORD K√ÅRTYA (API-r√≥l t√∂lt≈ëdik) -->
                <div id="discord-card" class="bg-[#2f3136] rounded-lg p-4 border border-gray-700 shadow-lg relative overflow-hidden">
                    <!-- Bet√∂lt√©s -->
                    <div id="loading-msg" class="flex items-center justify-center h-20 text-gray-400 gap-2">
                        <i class="fa-solid fa-circle-notch fa-spin"></i> Kapcsol√≥d√°s a saj√°t bothoz...
                    </div>

                    <!-- Adatok -->
                    <div id="discord-content" class="hidden">
                        <div class="absolute top-0 left-0 w-full h-1 bg-[#202225]"></div>
                        <h3 class="text-[#b9bbbe] text-xs font-bold uppercase mb-3 tracking-widest"><i class="fa-brands fa-discord mr-2"></i>Live Status</h3>
                        
                        <div class="flex items-center gap-4">
                            <div class="relative">
                                <img id="d-avatar" src="" class="w-14 h-14 rounded-full border-2 border-[#2f3136]">
                                <div id="d-status" class="absolute bottom-0 right-0 w-5 h-5 rounded-full border-4 border-[#2f3136] status-offline"></div>
                            </div>
                            <div>
                                <div class="text-white font-bold text-lg" id="d-username">...</div>
                                <div class="text-gray-300 text-xs mt-1 flex items-center gap-1" id="d-activity">
                                    <span>Offline</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Custom Status -->
                        <div id="d-custom-box" class="mt-3 bg-[#202225] rounded p-2 flex items-center gap-2 border border-gray-700 hidden">
                            <span id="d-emoji" class="text-lg"></span>
                            <span id="d-text" class="text-sm text-gray-300"></span>
                        </div>
                    </div>
                </div>

                <!-- Gal√©ria -->
                <div>
                    <h3 class="festive-font text-2xl text-yellow-400 mb-4 border-b border-white/10 pb-2">Gal√©ria</h3>
                    <div class="grid grid-cols-3 gap-3">
                         <div class="aspect-square rounded-lg overflow-hidden border border-white/20 group relative">
                            <img src="https://images.unsplash.com/photo-1593305841991-05c29736560e?auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-all">
                            <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black/40 transition-opacity"><i class="fa-solid fa-desktop text-white"></i></div>
                        </div>
                        <div class="aspect-square rounded-lg overflow-hidden border border-white/20 group relative">
                            <img src="https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-all">
                        </div>
                        <div class="aspect-square rounded-lg overflow-hidden border border-white/20 group relative">
                            <img src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-all">
                        </div>
                    </div>
                </div>

                <!-- Zenelej√°tsz√≥ -->
                <div class="mt-auto bg-gradient-to-r from-red-900/80 to-green-900/80 rounded-xl p-4 border border-white/20 shadow-inner">
                    <div class="flex items-center gap-4">
                        <button id="play-btn" class="w-10 h-10 rounded-full bg-yellow-500 hover:bg-yellow-400 text-black flex items-center justify-center transition-colors shadow-lg"><i class="fa-solid fa-play pl-1"></i></button>
                        <div class="flex-1 text-sm">
                            <div class="font-bold">Jingle Bells (Lofi)</div>
                            <input type="range" id="volume" min="0" max="1" step="0.1" value="0.5" class="w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer mt-1">
                        </div>
                    </div>
                    <audio id="audio" loop><source src="https://cdn.pixabay.com/download/audio/2022/11/22/audio_febc508520.mp3" type="audio/mpeg"></audio>
                </div>
            </div>
        </div>
    </main>
    <footer class="fixed bottom-2 w-full text-center text-white/40 text-xs z-10"><p>&copy; 2025 My Custom Profile</p></footer>

    <!-- JAVASCRIPT -->
    <script>
        // =================================================
        // CSAK EZT KELL BE√ÅLL√çTANOD A RENDER LINKEDRE!
        // =================================================
        const API_URL = 'https://IDE_√çRD_A_BOTOD_LINKJ√âT.onrender.com/api/status'; 
        // -------------------------------------------------

        async function updateStatus() {
            try {
                const response = await fetch(API_URL);
                const data = await response.json();

                if(!data.success && data.status !== 'offline') return;

                document.getElementById('loading-msg').style.display = 'none';
                document.getElementById('discord-content').classList.remove('hidden');
                
                // K√©pek √©s nevek friss√≠t√©se
                document.getElementById('d-username').textContent = data.username;
                document.getElementById('d-avatar').src = data.avatar;

                // St√°tusz sz√≠n friss√≠t√©se
                const status = data.status || 'offline';
                const indicator = document.getElementById('d-status');
                indicator.className = `absolute bottom-0 right-0 w-5 h-5 rounded-full border-4 border-[#2f3136] status-${status}`;

                // Tev√©kenys√©g friss√≠t√©se (Ugyan√∫gy, mint r√©gen)
                const activityDiv = document.getElementById('d-activity');
                activityDiv.innerHTML = '';

                if (data.spotify) {
                    activityDiv.innerHTML = `<i class="fa-brands fa-spotify text-green-400"></i> <span>Zene: <strong>${data.spotify.details}</strong></span>`;
                } else {
                    const game = data.activities ? data.activities.find(a => a.type === 0) : null;
                    if (game) {
                        activityDiv.innerHTML = `<i class="fa-solid fa-gamepad text-purple-400"></i> <span>J√°t√©k: <strong>${game.name}</strong></span>`;
                    } else {
                        const map = {'online':'El√©rhet≈ë', 'idle':'T√©tlen', 'dnd':'Ne zavarjanak', 'offline':'Offline'};
                        activityDiv.innerHTML = `<i class="fa-solid fa-moon text-gray-400"></i> <span>${map[status]}</span>`;
                    }
                }

                // Custom Status friss√≠t√©se
                const custom = data.activities ? data.activities.find(a => a.type === 4) : null;
                const customBox = document.getElementById('d-custom-box');
                if (custom && (custom.state || custom.emoji)) {
                    customBox.classList.remove('hidden');
                    document.getElementById('d-text').textContent = custom.state || '';
                    document.getElementById('d-emoji').textContent = custom.emoji ? (custom.emoji.name || 'üí¨') : 'üí¨';
                } else {
                    customBox.classList.add('hidden');
                }

            } catch (err) {
                console.log("V√°rakoz√°s az adatokra...", err);
            }
        }

        // Automatikus friss√≠t√©s
        updateStatus();
        setInterval(updateStatus, 10000);

        // Zenelej√°tsz√≥
        const audio = document.getElementById('audio');
        const playBtn = document.getElementById('play-btn');
        playBtn.addEventListener('click', () => {
            if(audio.paused) { audio.play(); playBtn.innerHTML = '<i class="fa-solid fa-pause"></i>'; }
            else { audio.pause(); playBtn.innerHTML = '<i class="fa-solid fa-play pl-1"></i>'; }
        });
        document.getElementById('volume').addEventListener('input', e => audio.volume = e.target.value);
    </script>
</body>
</html>


